<app-navbar></app-navbar>


<section class="proveedores-section">
  <div class="container">
    <h3 class="mb-4 text-center">Gestión de Proveedores</h3>
    <div class="row">
      <div class="col-md-4">
        <div class="form-box p-4 rounded shadow">
          <form (submit)="guardarProveedor(); $event.preventDefault()">
            <div class="mb-3">
              <label>Nombre:</label>
              <input type="text" class="form-control" [(ngModel)]="nuevoProveedor.nombre" name="nombre" required />
            </div>
            <div class="mb-3">
              <label>Correo Electrónico:</label>
              <input type="email" class="form-control" [(ngModel)]="nuevoProveedor.correo" name="correo" required />
            </div>
            <div class="mb-3">
              <label>Teléfono:</label>
              <input type="text" class="form-control" [(ngModel)]="nuevoProveedor.telefono" name="telefono" />
            </div>
            <div class="mb-3">
              <label>Ubicación:</label>
              <input type="text" class="form-control" [(ngModel)]="nuevoProveedor.ubicacion" name="ubicacion" />
            </div>

            <button class="btn btn-success w-100">
              {{ editando ? 'Actualizar' : 'Registrar Proveedor' }}
            </button>
            <button type="button" class="btn btn-secondary w-100 mt-2" (click)="limpiarFormulario()" *ngIf="editando">
              Cancelar
            </button>
          </form>
        </div>
      </div>

      <div class="col-md-8">
        <div class="table-responsive table-box shadow">
          <table class="table table-bordered">
            <thead class="table-header-green text-white">
              <tr>
                <th>Nombre</th>
                <th>Teléfono</th>
                <th>Correo</th>
                <th>Ubicación</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let p of proveedores">
                <td>{{ p.nombre }}</td>
                <td>{{ p.telefono }}</td>
                <td>{{ p.correo }}</td>
                <td>{{ p.ubicacion }}</td>
                <td>
                  <button class="btn btn-sm btn-outline-primary me-2" (click)="editarProveedor(p)">Editar</button>
                  <button class="btn btn-sm btn-outline-danger" (click)="eliminarProveedor(p.id)">Eliminar</button>
                </td>
              </tr>
              <tr *ngIf="proveedores.length === 0">
                <td colspan="5" class="text-center">No hay proveedores registrados.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>
