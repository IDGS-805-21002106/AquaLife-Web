<app-navbar></app-navbar>

<div class="container mt-4">
  <div class="title-box text-center mb-4">
    <h2>Deja tu valoración</h2>
  </div>

  <form (ngSubmit)="enviarValoracion()" #form="ngForm">
    <div class="mb-3">
      <label>Calificación:</label>
      <select class="form-control" [(ngModel)]="nuevaValoracion.calificacion" name="calificacion" required>
        <option value="5">⭐⭐⭐⭐⭐</option>
        <option value="4">⭐⭐⭐⭐</option>
        <option value="3">⭐⭐⭐</option>
        <option value="2">⭐⭐</option>
        <option value="1">⭐</option>
      </select>
    </div>

    <div class="mb-3">
      <label>Comentario:</label>
      <textarea class="form-control" [(ngModel)]="nuevaValoracion.comentario" name="comentario" required></textarea>
    </div>

    <button class="btn btn-primary w-100">Enviar</button>
  </form>

  <hr>

  <h3>Valoraciones recientes</h3>
  <div *ngFor="let v of valoracionesPublicas" class="border p-3 mb-2">
    <strong>{{ v.usuario?.nombreCompleto || 'Usuario' }}</strong>
    <span>({{ v.calificacion }} ⭐)</span>
    <p>{{ v.comentario }}</p>
    <small>{{ v.fecha | date:'short' }}</small>
  </div>
</div>

<app-footer></app-footer>